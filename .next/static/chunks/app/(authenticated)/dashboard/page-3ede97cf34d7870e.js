(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[598],{61819:function(e,t,a){Promise.resolve().then(a.bind(a,80213))},80213:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eb}});var s=a(3827),r=a(58714),n=a(64090),i=a(27815),l=a(17240),o=a(66995),c=(0,o.Z)("arrow-up-right","IconArrowUpRight",[["path",{d:"M17 7l-10 10",key:"svg-0"}],["path",{d:"M8 7l9 0l0 9",key:"svg-1"}]]),d=(0,o.Z)("arrow-down-right","IconArrowDownRight",[["path",{d:"M7 7l10 10",key:"svg-0"}],["path",{d:"M17 8l0 9l-9 0",key:"svg-1"}]]),m=a(62848),x=a(6317),u=a(34161),h=a(35069),f=a(49495);function p(e,t){return+(0,f.Q)(e)>+(0,f.Q)(t)}var g=a(85754),j=a(44991),y=a(61266),v=a(84104),w=a(1260),b=a(46165),N=a(78082),M=a(38687),D=a(25341),k=a(37881),C=a(12642),z=a(29586),S=a(59143),O=a(9310),_=a(66674),F=a(47225),T="Popover",[A,E]=(0,v.b)(T,[D.D7]),W=(0,D.D7)(),[R,Z]=A(T),B=e=>{let{__scopePopover:t,children:a,open:r,defaultOpen:i,onOpenChange:l,modal:o=!1}=e,c=W(t),d=n.useRef(null),[m,x]=n.useState(!1),[u=!1,h]=(0,O.T)({prop:r,defaultProp:i,onChange:l});return(0,s.jsx)(D.fC,{...c,children:(0,s.jsx)(R,{scope:t,contentId:(0,M.M)(),triggerRef:d,open:u,onOpenChange:h,onOpenToggle:n.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:m,onCustomAnchorAdd:n.useCallback(()=>x(!0),[]),onCustomAnchorRemove:n.useCallback(()=>x(!1),[]),modal:o,children:a})})};B.displayName=T;var U="PopoverAnchor";n.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,i=Z(U,a),l=W(a),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=i;return n.useEffect(()=>(o(),()=>c()),[o,c]),(0,s.jsx)(D.ee,{...l,...r,ref:t})}).displayName=U;var P="PopoverTrigger",$=n.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,n=Z(P,a),i=W(a),l=(0,y.e)(t,n.triggerRef),o=(0,s.jsx)(z.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":J(n.open),...r,ref:l,onClick:(0,j.M)(e.onClick,n.onOpenToggle)});return n.hasCustomAnchor?o:(0,s.jsx)(D.ee,{asChild:!0,...i,children:o})});$.displayName=P;var K="PopoverPortal",[I,Y]=A(K,{forceMount:void 0}),L=e=>{let{__scopePopover:t,forceMount:a,children:r,container:n}=e,i=Z(K,t);return(0,s.jsx)(I,{scope:t,forceMount:a,children:(0,s.jsx)(C.z,{present:a||i.open,children:(0,s.jsx)(k.h,{asChild:!0,container:n,children:r})})})};L.displayName=K;var q="PopoverContent",V=n.forwardRef((e,t)=>{let a=Y(q,e.__scopePopover),{forceMount:r=a.forceMount,...n}=e,i=Z(q,e.__scopePopover);return(0,s.jsx)(C.z,{present:r||i.open,children:i.modal?(0,s.jsx)(G,{...n,ref:t}):(0,s.jsx)(Q,{...n,ref:t})})});V.displayName=q;var G=n.forwardRef((e,t)=>{let a=Z(q,e.__scopePopover),r=n.useRef(null),i=(0,y.e)(t,r),l=n.useRef(!1);return n.useEffect(()=>{let e=r.current;if(e)return(0,_.Ry)(e)},[]),(0,s.jsx)(F.Z,{as:S.g7,allowPinchZoom:!0,children:(0,s.jsx)(H,{...e,ref:i,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,j.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),l.current||null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,j.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey,s=2===t.button||a;l.current=s},{checkForDefaultPrevented:!1}),onFocusOutside:(0,j.M)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),Q=n.forwardRef((e,t)=>{let a=Z(q,e.__scopePopover),r=n.useRef(!1),i=n.useRef(!1);return(0,s.jsx)(H,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,n;null===(s=e.onCloseAutoFocus)||void 0===s||s.call(e,t),t.defaultPrevented||(r.current||null===(n=a.triggerRef.current)||void 0===n||n.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{var s,n;null===(s=e.onInteractOutside)||void 0===s||s.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let l=t.target;(null===(n=a.triggerRef.current)||void 0===n?void 0:n.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),H=n.forwardRef((e,t)=>{let{__scopePopover:a,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:l,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:m,...x}=e,u=Z(q,a),h=W(a);return(0,b.EW)(),(0,s.jsx)(N.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:i,children:(0,s.jsx)(w.XB,{asChild:!0,disableOutsidePointerEvents:l,onInteractOutside:m,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>u.onOpenChange(!1),children:(0,s.jsx)(D.VY,{"data-state":J(u.open),role:"dialog",id:u.contentId,...h,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),X="PopoverClose";function J(e){return e?"open":"closed"}n.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,n=Z(X,a);return(0,s.jsx)(z.WV.button,{type:"button",...r,ref:t,onClick:(0,j.M)(e.onClick,()=>n.onOpenChange(!1))})}).displayName=X,n.forwardRef((e,t)=>{let{__scopePopover:a,...r}=e,n=W(a);return(0,s.jsx)(D.Eh,{...n,...r,ref:t})}).displayName="PopoverArrow";var ee=a(1657);let et=n.forwardRef((e,t)=>{let{className:a,align:r="center",sideOffset:n=4,...i}=e;return(0,s.jsx)(L,{children:(0,s.jsx)(V,{ref:t,align:r,sideOffset:n,className:(0,ee.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...i})})});et.displayName=V.displayName;var ea=a(87461);/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let es=(0,ea.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),er=(0,ea.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var en="horizontal",ei=["horizontal","vertical"],el=n.forwardRef((e,t)=>{let{decorative:a,orientation:r=en,...n}=e,i=ei.includes(r)?r:en;return(0,s.jsx)(z.WV.div,{"data-orientation":i,...a?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...n,ref:t})});el.displayName="Separator";let eo=n.forwardRef((e,t)=>{let{className:a,orientation:r="horizontal",decorative:n=!0,...i}=e;return(0,s.jsx)(el,{ref:t,decorative:n,orientation:r,className:(0,ee.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...i})});function ec(e){let{onChange:t,className:a,defaultValue:r}=e,[i,l]=n.useState(!1),[o,c]=n.useState((null==r?void 0:r.from.getFullYear())||new Date().getFullYear()),[d,u]=n.useState((null==r?void 0:r.to.getFullYear())||new Date().getFullYear()),[f,j]=n.useState(r||{from:(0,m.N)((0,x.z)(new Date,-1)),to:(0,m.N)(new Date)}),y=n.useMemo(()=>Array.from({length:12},(e,t)=>new Date(o,t,1)),[o]),v=n.useMemo(()=>Array.from({length:12},(e,t)=>new Date(d,t,1)),[d]),w=(e,a)=>{let s={...f};"from"===a?(p(e,f.to)&&(s.to=e),s.from=e):(p(f.from,e)&&(s.from=e),s.to=e),j(s),null==t||t(s)};return(0,s.jsx)("div",{className:a,children:(0,s.jsxs)(B,{open:i,onOpenChange:l,children:[(0,s.jsx)($,{asChild:!0,children:(0,s.jsx)(g.z,{variant:"outline",className:(0,ee.cn)("w-[300px] justify-start text-left font-normal",!f.from&&"text-muted-foreground"),children:f.from?f.to?(0,s.jsxs)(s.Fragment,{children:[(0,h.WU)(f.from,"MMMM yyyy")," -"," ",(0,h.WU)(f.to,"MMMM yyyy")]}):(0,h.WU)(f.from,"MMMM yyyy"):(0,s.jsx)("span",{children:"Pick a date range"})})}),(0,s.jsx)(et,{className:"w-[600px] p-0 bg-white dark:bg-neutral-800",align:"end",sideOffset:8,style:{zIndex:1e3},children:(0,s.jsxs)("div",{className:"flex p-3 gap-3",children:[(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"mb-2 text-sm font-medium",children:"From"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(g.z,{variant:"outline",className:"h-7 w-7 p-0",onClick:()=>c(o-1),children:(0,s.jsx)(es,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"font-medium",children:o}),(0,s.jsx)(g.z,{variant:"outline",className:"h-7 w-7 p-0",onClick:()=>c(o+1),children:(0,s.jsx)(er,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:y.map((e,t)=>{let a=p(e,new Date);return(0,s.jsx)(g.z,{variant:f.from&&e.getTime()===f.from.getTime()?"default":"ghost",className:(0,ee.cn)("h-9 p-0",a&&"text-muted-foreground opacity-50 hover:bg-transparent cursor-not-allowed"),onClick:()=>!a&&w(e,"from"),disabled:a,children:(0,s.jsx)("time",{dateTime:(0,h.WU)(e,"yyyy-MM"),children:(0,h.WU)(e,"MMM")})},t)})})]})}),(0,s.jsx)(eo,{orientation:"vertical",className:"h-auto"}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"mb-2 text-sm font-medium",children:"To"}),(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(g.z,{variant:"outline",className:"h-7 w-7 p-0",onClick:()=>u(d-1),children:(0,s.jsx)(es,{className:"h-4 w-4"})}),(0,s.jsx)("div",{className:"font-medium",children:d}),(0,s.jsx)(g.z,{variant:"outline",className:"h-7 w-7 p-0",onClick:()=>u(d+1),children:(0,s.jsx)(er,{className:"h-4 w-4"})})]}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:v.map((e,t)=>{let a=p(e,new Date);return(0,s.jsx)(g.z,{variant:f.to&&e.getTime()===f.to.getTime()?"default":"ghost",className:(0,ee.cn)("h-9 p-0",a&&"text-muted-foreground opacity-50 hover:bg-transparent cursor-not-allowed"),onClick:()=>!a&&w(e,"to"),disabled:a,children:(0,s.jsx)("time",{dateTime:(0,h.WU)(e,"yyyy-MM"),children:(0,h.WU)(e,"MMM")})},t)})})]})})]})})]})})}eo.displayName=el.displayName;var ed=a(26587),em=a(66363),ex=a(38333),eu=a(23356),eh=a(22983),ef=a(10166),ep=a(98061),eg=a(65558),ej=a(28485),ey=a(12627),ev=(0,eg.z)({chartName:"BarChart",GraphicalChild:ej.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:eu.K},{axisType:"yAxis",AxisComp:eh.B}],formatAxisMap:ey.t9}),ew=a(94866);function eb(){var e;let[t,a]=(0,n.useState)([]),[o,f]=(0,n.useState)([]),[p,j]=(0,n.useState)("income"),[y,v]=(0,n.useState)([]),[w,b]=(0,n.useState)([]),[N,M]=(0,n.useState)([]),[D,k]=(0,n.useState)({from:(0,m.N)((e=new Date,(0,x.z)(e,-11,void 0))),to:(0,u.V)(new Date)}),C=(0,r.createClientComponentClient)(),z=n.useMemo(()=>{let e=["#94A3B8","#64748B","#475569","#0EA5E9","#0284C7","#0369A1","#8B5CF6","#7C3AED","#6D28D9","#EC4899","#DB2777","#BE185D"];return Object.fromEntries(Array.from(new Set(t.filter(e=>"expense"===e.transaction_type).map(e=>e.category))).sort().map((t,a)=>[t,e[a%e.length]]))},[t]),S=n.useMemo(()=>{let e=["#10B981","#059669","#047857","#34D399","#6EE7B7","#A7F3D0"];return Object.fromEntries(Array.from(new Set(t.filter(e=>"income"===e.transaction_type).map(e=>e.category))).sort().map((t,a)=>[t,e[a%e.length]]))},[t]);(0,n.useEffect)(()=>{(async()=>{let{data:{user:e}}=await C.auth.getUser();if(!e)return;let{data:t}=await C.from("custom_categories").select("*").eq("userid",e.id).is("deleted_at",null);t&&M(t);let{data:s}=await C.from("transactions").select("*").eq("userid",e.id).gte("date",(0,h.WU)(D.from,"yyyy-MM-dd")).lte("date",(0,h.WU)((0,u.V)(D.to),"yyyy-MM-dd")).is("deleted_at",null).order("date",{ascending:!1});s&&a(s);let{data:r}=await C.from("net_worth_log").select("*").eq("userid",e.id).gte("date",(0,h.WU)(D.from,"yyyy-MM-dd")).lte("date",(0,h.WU)((0,u.V)(D.to),"yyyy-MM-dd")).is("deleted_at",null).order("date",{ascending:!1});r&&f(r)})()},[D]);let O=t.filter(e=>"income"===p&&w.length>0?"income"===e.transaction_type&&w.includes(e.category):"income"===e.transaction_type).reduce((e,t)=>e+Object.values(t.value).reduce((e,t)=>e+t,0),0),_=t.filter(e=>"expenses"===p&&y.length>0?"expense"===e.transaction_type&&y.includes(e.category):"expense"===e.transaction_type).reduce((e,t)=>e+Object.values(t.value).reduce((e,t)=>e+t,0),0),F=O-_,T=Math.max(1,Math.ceil((D.to.getTime()-D.from.getTime())/2592e6)),A=F/T,E=e=>{if(e.length<2)return 0;let t=[...e].sort((e,t)=>new Date(e.month).getTime()-new Date(t.month).getTime()),a=t[0].value,s=t[t.length-1].value;return 0!==a?(s-a)/Math.abs(a)*100:0},{incomeData:W,expenseData:R,netData:Z}={incomeData:t.filter(e=>"income"===e.transaction_type).reduce((e,t)=>{let a=(0,h.WU)(new Date(t.date),"MMM yyyy"),s=Object.values(t.value).reduce((e,t)=>e+t,0),r=e.find(e=>e.month===a);return r?r.value+=s:e.push({month:a,value:s}),e},[]),expenseData:t.filter(e=>"expenses"===p&&y.length>0?"expense"===e.transaction_type&&y.includes(e.category):"expense"===e.transaction_type).reduce((e,t)=>{let a=(0,h.WU)(new Date(t.date),"MMM yyyy"),s=Object.values(t.value).reduce((e,t)=>e+t,0),r=e.find(e=>e.month===a);return r?r.value+=s:e.push({month:a,value:s}),e},[]),netData:t.filter(e=>"expense"!==e.transaction_type||"expenses"!==p||!(y.length>0)||y.includes(e.category)).reduce((e,t)=>{let a=(0,h.WU)(new Date(t.date),"MMM yyyy"),s=Object.values(t.value).reduce((e,t)=>e+t,0)*("income"===t.transaction_type?1:-1),r=e.find(e=>e.month===a);return r?r.value+=s:e.push({month:a,value:s}),e},[])},B=E(W),U=E(R),P=E(Z),$=e=>Object.values(e.value).reduce((e,t)=>e+t,0),K=o.length>0?$(o.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())[0]):0,I=()=>{switch(p){case"income":return t.filter(e=>w.length>0?"income"===e.transaction_type&&w.includes(e.category):"income"===e.transaction_type).reduce((e,t)=>{let a=(0,h.WU)(new Date(t.date),"MMM yyyy"),s=Object.values(t.value).reduce((e,t)=>e+t,0),r=e.find(e=>e.month===a);return r?r.value+=s:e.push({month:a,value:s}),e},[]).sort((e,t)=>new Date(e.month).getTime()-new Date(t.month).getTime());case"expenses":return Object.entries(t.filter(e=>"expense"===e.transaction_type).reduce((e,t)=>{let a=(0,h.WU)(new Date(t.date),"MMM yyyy"),s=Object.values(t.value).reduce((e,t)=>e+t,0);return e[a]||(e[a]={}),e[a][t.category]||(e[a][t.category]=0),e[a][t.category]+=s,e},{})).map(e=>{let[t,a]=e;return{month:t,...a}});case"income-vs-expenses":return t.reduce((e,t)=>{let a=(0,h.WU)(new Date(t.date),"MMM yyyy"),s=Object.values(t.value).reduce((e,t)=>e+t,0),r=e.find(e=>e.month===a);return("income"===t.transaction_type&&(!w.length||w.includes(t.category))||"expense"===t.transaction_type&&(!y.length||y.includes(t.category)))&&(r?("income"===t.transaction_type?r.income+=s:r.expenses+=s,r.net=r.income-r.expenses):e.push({month:a,income:"income"===t.transaction_type?s:0,expenses:"expense"===t.transaction_type?s:0,net:"income"===t.transaction_type?s:-s})),e},[]).sort((e,t)=>new Date(e.month).getTime()-new Date(t.month).getTime());case"net-worth":return o.map(e=>({date:(0,h.WU)(new Date(e.date),"MMM yyyy"),value:$(e)})).sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime());default:return[]}};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"container py-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Financial overview"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("div",{className:"inline-flex h-10 items-center rounded-md border bg-white dark:bg-neutral-800",children:[(0,s.jsx)(g.z,{variant:"income"===p?"default":"ghost",onClick:()=>j("income"),className:"h-9 rounded-none first:rounded-l-md px-3",size:"sm",children:"Income"}),(0,s.jsx)(g.z,{variant:"expenses"===p?"default":"ghost",onClick:()=>j("expenses"),className:"h-9 rounded-none border-l px-3",size:"sm",children:"Expenses"}),(0,s.jsx)(g.z,{variant:"income-vs-expenses"===p?"default":"ghost",onClick:()=>j("income-vs-expenses"),className:"h-9 rounded-none border-l px-3",size:"sm",children:"Income vs Expenses"}),(0,s.jsx)(g.z,{variant:"net-worth"===p?"default":"ghost",onClick:()=>j("net-worth"),className:"h-9 rounded-none border-l last:rounded-r-md px-3",size:"sm",children:"Net Worth"})]}),(0,s.jsx)(ec,{onChange:k,defaultValue:D})]})]})}),(0,s.jsxs)("div",{className:"container",children:[(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-4",children:"income"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Average Monthly Income"}),(0,s.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold text-emerald-500",children:["$",(O/T).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Income"}),(0,s.jsx)(c,{className:"h-4 w-4 text-emerald-500"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold text-emerald-500",children:["$",O.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Income Growth"}),(0,s.jsx)(c,{className:"h-4 w-4 ".concat(B>=0?"text-emerald-500":"text-red-500")})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold ".concat(B>=0?"text-emerald-500":"text-red-500"),children:[B>=0?"+":"-","$",Math.abs(B).toFixed(2),"%"]})})]})]}):"expenses"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Average Monthly Expenses"}),(0,s.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold text-red-500",children:["$",(_/T).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Expenses"}),(0,s.jsx)(d,{className:"h-4 w-4 text-red-500"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold text-red-500",children:["$",_.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Expense Growth"}),(0,s.jsx)(d,{className:"h-4 w-4 ".concat(U>=0?"text-red-500":"text-emerald-500")})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold ".concat(U>=0?"text-red-500":"text-emerald-500"),children:[U>=0?"+":"-","$",Math.abs(U).toFixed(2),"%"]})})]})]}):"income-vs-expenses"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Average Monthly Net"}),(0,s.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold ".concat(A>=0?"text-emerald-500":"text-red-500"),children:[A>=0?"+":"-","$",Math.abs(A).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Net"}),(0,s.jsx)(c,{className:"h-4 w-4 ".concat(F>=0?"text-emerald-500":"text-red-500")})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold ".concat(F>=0?"text-emerald-500":"text-red-500"),children:[F>=0?"+":"-","$",Math.abs(F).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]}),(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Net Growth"}),(0,s.jsx)(c,{className:"h-4 w-4 ".concat(P>=0?"text-emerald-500":"text-red-500")})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold ".concat(P>=0?"text-emerald-500":"text-red-500"),children:[P>=0?"+":"-","$",Math.abs(P).toFixed(2),"%"]})})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Net Worth"}),(0,s.jsx)(l.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,s.jsx)(i.aY,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["$",K.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-8",children:[(0,s.jsx)("div",{className:"md:col-span-2",children:(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between",children:[(0,s.jsxs)(i.ll,{children:["income"===p&&"Income Overview","expenses"===p&&"Expenses Overview","income-vs-expenses"===p&&"Income vs Expenses Overview","net-worth"===p&&"Net Worth Overview"]}),"expenses"===p&&(0,s.jsxs)("div",{className:"inline-flex h-10 items-center rounded-md border bg-white dark:bg-neutral-800",children:[Array.from(new Set([...t.filter(e=>"expense"===e.transaction_type).map(e=>e.category),...N.filter(e=>"expense"===e.type).map(e=>e.name)])).sort().map((e,t,a)=>(0,s.jsx)(g.z,{variant:y.includes(e)?"default":"ghost",onClick:()=>{y.includes(e)?v(y.filter(t=>t!==e)):v([...y,e])},className:"h-9 rounded-none capitalize px-3 ".concat(0===t?"first:rounded-l-md":"border-l"," ").concat(t===a.length-1?"last:rounded-r-md":""),size:"sm",style:{"--selected-color":z[e],"--hover-color":"".concat(z[e],"33"),backgroundColor:y.includes(e)?z[e]:void 0,color:y.includes(e)?"white":void 0,borderColor:y.includes(e)?z[e]:void 0},children:e},e)),y.length>0&&(0,s.jsx)(g.z,{variant:"ghost",onClick:()=>v([]),className:"h-9 rounded-none border-l last:rounded-r-md px-3",size:"sm",children:"Clear"})]}),"income"===p&&(0,s.jsxs)("div",{className:"inline-flex h-10 items-center rounded-md border bg-white dark:bg-neutral-800",children:[Array.from(new Set([...t.filter(e=>"income"===e.transaction_type).map(e=>e.category),...N.filter(e=>"income"===e.type).map(e=>e.name)])).sort().map((e,t,a)=>(0,s.jsx)(g.z,{variant:w.includes(e)?"default":"ghost",onClick:()=>{w.includes(e)?b(w.filter(t=>t!==e)):b([...w,e])},className:"h-9 rounded-none capitalize px-3 ".concat(0===t?"first:rounded-l-md":"border-l"," ").concat(t===a.length-1?"last:rounded-r-md":""),size:"sm",style:{"--selected-color":S[e],"--hover-color":"".concat(S[e],"33"),backgroundColor:w.includes(e)?S[e]:void 0,color:w.includes(e)?"white":void 0,borderColor:w.includes(e)?S[e]:void 0},children:e},e)),w.length>0&&(0,s.jsx)(g.z,{variant:"ghost",onClick:()=>b([]),className:"h-9 rounded-none border-l last:rounded-r-md px-3",size:"sm",children:"Clear"})]})]}),(0,s.jsx)(i.aY,{children:(()=>{let e=I(),a=e=>{let{message:t}=e;return(0,s.jsxs)("div",{className:"h-[400px] flex flex-col items-center justify-center text-muted-foreground",children:[(0,s.jsx)("p",{className:"text-lg",children:t}),(0,s.jsx)("p",{className:"text-sm mt-2",children:"Add some transactions to see your data here."})]})};if(!e||0===e.length)switch(p){case"income":return(0,s.jsx)(a,{message:"No income data for the selected period"});case"expenses":return(0,s.jsx)(a,{message:"No expense data for the selected period"});case"income-vs-expenses":return(0,s.jsx)(a,{message:"No transaction data for the selected period"});case"net-worth":return(0,s.jsx)(a,{message:"No net worth data for the selected period"});default:return(0,s.jsx)(a,{message:"No data available"})}switch(p){case"income":return(0,s.jsx)(ed.h,{width:"100%",height:400,children:(0,s.jsxs)(em.w,{data:e,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eu.K,{dataKey:"month",tick:{fontSize:12}}),(0,s.jsx)(eh.B,{tick:{fontSize:12}}),(0,s.jsx)(ef.u,{contentStyle:{fontSize:12}}),(0,s.jsx)(ep.x,{type:"monotone",dataKey:"value",stroke:"#0EA5E9",strokeWidth:2})]})});case"expenses":let r=Array.from(new Set([...t.filter(e=>"expense"===e.transaction_type).map(e=>e.category),...N.filter(e=>"expense"===e.type).map(e=>e.name)])).sort(),n=y.length>0?y:r;return(0,s.jsx)(ed.h,{width:"100%",height:400,children:(0,s.jsxs)(ev,{data:e,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eu.K,{dataKey:"month",tick:{fontSize:12}}),(0,s.jsx)(eh.B,{tick:{fontSize:12}}),(0,s.jsx)(ef.u,{contentStyle:{fontSize:12}}),(0,s.jsx)(ew.D,{wrapperStyle:{fontSize:12}}),n.map(e=>(0,s.jsx)(ej.$,{dataKey:e,stackId:"a",fill:z[e],maxBarSize:50},e))]})});case"income-vs-expenses":if(!(y.length>0))return(0,s.jsx)(ed.h,{width:"100%",height:400,children:(0,s.jsxs)(ev,{data:e,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eu.K,{dataKey:"month",tick:{fontSize:12}}),(0,s.jsx)(eh.B,{tick:{fontSize:12}}),(0,s.jsx)(ef.u,{contentStyle:{fontSize:12}}),(0,s.jsx)(ew.D,{wrapperStyle:{fontSize:12}}),(0,s.jsx)(ej.$,{dataKey:"income",fill:"#10B981",maxBarSize:50}),(0,s.jsx)(ej.$,{dataKey:"expenses",fill:"#EF4444",maxBarSize:50}),(0,s.jsx)(ej.$,{dataKey:"net",fill:"#171717",maxBarSize:50})]})});{let a=Array.from(new Set([...t.filter(e=>"income"===e.transaction_type).map(e=>e.category),...N.filter(e=>"income"===e.type).map(e=>e.name)])).sort(),r=Array.from(new Set([...t.filter(e=>"expense"===e.transaction_type).map(e=>e.category),...N.filter(e=>"expense"===e.type).map(e=>e.name)])).sort();return(0,s.jsx)(ed.h,{width:"100%",height:400,children:(0,s.jsxs)(ev,{data:e,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eu.K,{dataKey:"month",tick:{fontSize:12}}),(0,s.jsx)(eh.B,{tick:{fontSize:12}}),(0,s.jsx)(ef.u,{contentStyle:{fontSize:12}}),(0,s.jsx)(ew.D,{wrapperStyle:{fontSize:12}}),a.map(e=>(0,s.jsx)(ej.$,{dataKey:e,stackId:"income",name:"Income - ".concat(e),fill:S[e],maxBarSize:50},"income-".concat(e))),r.map(e=>(0,s.jsx)(ej.$,{dataKey:e,stackId:"expense",name:"Expense - ".concat(e),fill:z[e],maxBarSize:50},"expense-".concat(e))),(0,s.jsx)(ej.$,{dataKey:"net",fill:"#171717",maxBarSize:50})]})})}case"net-worth":return(0,s.jsx)(ed.h,{width:"100%",height:400,children:(0,s.jsxs)(em.w,{data:e,margin:{top:10,right:10,left:10,bottom:10},children:[(0,s.jsx)(ex.q,{strokeDasharray:"3 3"}),(0,s.jsx)(eu.K,{dataKey:"date",tick:{fontSize:12}}),(0,s.jsx)(eh.B,{tick:{fontSize:12}}),(0,s.jsx)(ef.u,{contentStyle:{fontSize:12}}),(0,s.jsx)(ep.x,{type:"monotone",dataKey:"value",stroke:"#8B5CF6",strokeWidth:2})]})})}})()})]})}),(0,s.jsx)("div",{className:"md:col-span-1",children:(0,s.jsxs)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:[(0,s.jsx)(i.Ol,{children:(0,s.jsx)(i.ll,{children:"Details"})}),(0,s.jsx)(i.aY,{children:(()=>{let e=e=>{let{message:t}=e;return(0,s.jsx)("div",{className:"h-[400px] flex flex-col items-center justify-center text-muted-foreground",children:(0,s.jsx)("p",{className:"text-sm",children:t})})};switch(p){case"income":let a=t.filter(e=>"income"===e.transaction_type);if(0===a.length)return(0,s.jsx)(e,{message:"No income transactions to display"});return(0,s.jsx)("div",{className:"space-y-4 h-[400px] overflow-y-auto",children:a.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>{let t=Object.values(e.title)[0],a=Object.values(e.value)[0];return(0,s.jsx)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:t}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,h.WU)(new Date(e.date),"MMM d, yyyy")})]}),(0,s.jsxs)("div",{className:"text-emerald-500 font-semibold",children:["+$",a.toLocaleString()]})]})},e.id)})});case"expenses":let r=t.filter(e=>"expense"===e.transaction_type);if(0===r.length)return(0,s.jsx)(e,{message:"No expense transactions to display"});return(0,s.jsx)("div",{className:"space-y-4 h-[400px] overflow-y-auto",children:r.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>{let t=Object.values(e.title)[0],a=Object.values(e.value)[0];return(0,s.jsx)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:t}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:(0,h.WU)(new Date(e.date),"MMM d, yyyy")}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"capitalize",children:e.category})]})]}),(0,s.jsxs)("div",{className:"text-red-500 font-semibold",children:["-$",a.toLocaleString()]})]})},e.id)})});case"income-vs-expenses":if(0===t.length)return(0,s.jsx)(e,{message:"No transactions to display"});return(0,s.jsx)("div",{className:"space-y-4 h-[400px] overflow-y-auto",children:t.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>{let t=Object.values(e.title)[0],a=Object.values(e.value)[0],r="income"===e.transaction_type;return(0,s.jsx)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:t}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)("span",{children:(0,h.WU)(new Date(e.date),"MMM d, yyyy")}),!r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"capitalize",children:e.category})]})]})]}),(0,s.jsxs)("div",{className:"font-semibold ".concat(r?"text-emerald-500":"text-red-500"),children:[r?"+":"-","$",a.toLocaleString()]})]})},e.id)})});case"net-worth":if(0===o.length)return(0,s.jsx)(e,{message:"No net worth entries to display"});return(0,s.jsx)("div",{className:"space-y-4 h-[400px] overflow-y-auto",children:o.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>{let t=$(e);return(0,s.jsx)(i.Zb,{className:"bg-white dark:bg-neutral-800",children:(0,s.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(i.ll,{className:"text-sm font-medium",children:"Net Worth Log"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,h.WU)(new Date(e.date),"MMM d, yyyy")})]}),(0,s.jsxs)("div",{className:"font-semibold ".concat(t>=0?"text-emerald-500":"text-red-500"),children:["$",t.toLocaleString()]})]})},e.id)})})}})()})]})})]})]})]})}},85754:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var s=a(3827),r=a(64090),n=a(59143),i=a(49769),l=a(1657);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,size:i,asChild:c=!1,...d}=e,m=c?n.g7:"button";return(0,s.jsx)(m,{className:(0,l.cn)(o({variant:r,size:i,className:a})),ref:t,...d})});c.displayName="Button"},27815:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},Zb:function(){return i},aY:function(){return c},ll:function(){return o}});var s=a(3827),r=a(64090),n=a(1657);let i=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});i.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...r})});l.displayName="CardHeader";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});o.displayName="CardTitle",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...r})}).displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...r})});c.displayName="CardContent",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},1657:function(e,t,a){"use strict";a.d(t,{cn:function(){return n}});var s=a(75504),r=a(51367);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.m6)((0,s.W)(t))}},17240:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var s=(0,a(66995).Z)("wallet","IconWallet",[["path",{d:"M17 8v-3a1 1 0 0 0 -1 -1h-10a2 2 0 0 0 0 4h12a1 1 0 0 1 1 1v3m0 4v3a1 1 0 0 1 -1 1h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M20 12v4h-4a2 2 0 0 1 0 -4h4",key:"svg-1"}]])}},function(e){e.O(0,[150,714,447,917,223,971,69,744],function(){return e(e.s=61819)}),_N_E=e.O()}]);