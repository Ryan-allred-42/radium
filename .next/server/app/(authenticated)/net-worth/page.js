(()=>{var e={};e.id=876,e.ids=[876],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},18003:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=a(50482),s=a(69108),n=a(62563),l=a.n(n),i=a(68300),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(t,d);let o=["",{children:["(authenticated)",{children:["net-worth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,6948)),"/Users/ryanallred/Downloads/budget-app/app/(authenticated)/net-worth/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,60093)),"/Users/ryanallred/Downloads/budget-app/app/(authenticated)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,82917)),"/Users/ryanallred/Downloads/budget-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ryanallred/Downloads/budget-app/app/(authenticated)/net-worth/page.tsx"],u="/(authenticated)/net-worth/page",h={require:a,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(authenticated)/net-worth/page",pathname:"/net-worth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},43612:(e,t,a)=>{Promise.resolve().then(a.bind(a,78768))},78768:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>z});var r=a(95344),s=a(57435),n=a(3729),l=a(61351),i=a(16212),d=a(92549),o=a(46541),c=a(88731),u=a(10077),h=a(98037);function x(e,t){let a,r;let s=()=>(0,u.L)(t?.in,NaN),n=t?.additionalDigits??2,l=function(e){let t;let a={},r=e.split(m.dateTimeDelimiter);if(r.length>2)return a;if(/:/.test(r[0])?t=r[0]:(a.date=r[0],t=r[1],m.timeZoneDelimiter.test(a.date)&&(a.date=e.split(m.timeZoneDelimiter)[0],t=e.substr(a.date.length,e.length))),t){let e=m.timezone.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}(e);if(l.date){let e=function(e,t){let a=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};let s=r[1]?parseInt(r[1]):null,n=r[2]?parseInt(r[2]):null;return{year:null===n?s:100*n,restDateString:e.slice((r[1]||r[2]).length)}}(l.date,n);a=function(e,t){if(null===t)return new Date(NaN);let a=e.match(p);if(!a)return new Date(NaN);let r=!!a[4],s=j(a[1]),n=j(a[2])-1,l=j(a[3]),i=j(a[4]),d=j(a[5])-1;if(r)return i>=1&&i<=53&&d>=0&&d<=6?function(e,t,a){let r=new Date(0);r.setUTCFullYear(e,0,4);let s=r.getUTCDay()||7;return r.setUTCDate(r.getUTCDate()+((t-1)*7+a+1-s)),r}(t,i,d):new Date(NaN);{let e=new Date(0);return n>=0&&n<=11&&l>=1&&l<=(N[n]||(v(t)?29:28))&&s>=1&&s<=(v(t)?366:365)?(e.setUTCFullYear(t,n,Math.max(s,l)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!a||isNaN(+a))return s();let i=+a,d=0;if(l.time&&isNaN(d=function(e){let t=e.match(g);if(!t)return NaN;let a=f(t[1]),r=f(t[2]),s=f(t[3]);return(24===a?0===r&&0===s:s>=0&&s<60&&r>=0&&r<60&&a>=0&&a<25)?a*c.vh+r*c.yJ+1e3*s:NaN}(l.time)))return s();if(l.timezone){if(isNaN(r=function(e){if("Z"===e)return 0;let t=e.match(y);if(!t)return 0;let a="+"===t[1]?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return s>=0&&s<=59?a*(r*c.vh+s*c.yJ):NaN}(l.timezone)))return s()}else{let e=new Date(i+d),a=(0,h.Q)(0,t?.in);return a.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),a.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),a}return(0,h.Q)(i+d+r,t?.in)}let m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},p=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,g=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,y=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j(e){return e?parseInt(e):1}function f(e){return e&&parseFloat(e.replace(",","."))||0}let N=[31,null,31,30,31,30,31,31,30,31,30,31];function v(e){return e%400==0||e%4==0&&e%100!=0}var w=a(24039),b=a(54572),D=a(37094),_=a(21566),q=a(18964),C=a(2239),M=a(20903),T=a(86902),U=a(29173),S=a(90626),k=a(2422);function z(){let[e,t]=(0,n.useState)([]),[a,c]=(0,n.useState)(!1),[u,h]=(0,n.useState)(null),[m,p]=(0,n.useState)((0,o.WU)(new Date,"yyyy-MM-dd")),[g,y]=(0,n.useState)([{title:"",value:0}]),[j,f]=(0,n.useState)(null),N=(0,s.createClientComponentClient)();(0,n.useEffect)(()=>{(async()=>{let{data:{user:e}}=await N.auth.getUser();if(!e)return;let{data:a}=await N.from("net_worth_log").select("*").eq("userid",e.id).is("deleted_at",null).order("date",{ascending:!0});t(a||[])})()},[]);let v=e=>Object.values(e.value).reduce((e,t)=>e+t,0),z=()=>0===e.length?null:[...e].sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())[0],P=()=>{let e=z();e?y(Object.entries(e.title).map(([e,t])=>({title:t,value:0}))):y([{title:"",value:0}])},$=e=>{y(g.filter((t,a)=>a!==e))},W=(e,t,a)=>{let r=[...g];r[e]={...r[e],[t]:"value"===t?parseFloat(a)||0:a},y(r)},E=async a=>{if(a.preventDefault(),e.some(e=>e.date===m)&&!u){f("An entry for this date already exists");return}f(null);let{data:{user:r}}=await N.auth.getUser();if(!r)return;let s={},n={};if(g.forEach(e=>{e.title.trim()&&(s[e.title]=e.title,n[e.title]=e.value)}),u){let{error:a}=await N.from("net_worth_log").update({title:s,value:n,date:m}).eq("id",u.id);a||t(e.map(e=>e.id===u.id?{...e,title:s,value:n,date:m}:e))}else{let{data:a,error:l}=await N.from("net_worth_log").insert([{userid:r.id,title:s,value:n,date:m}]).select().single();!l&&a&&t([...e,a])}c(!1),h(null),y([{title:"",value:0}]),p((0,o.WU)(new Date,"yyyy-MM-dd"))},A=e=>{h(e),p(e.date),y(Object.entries(e.title).map(([t,a])=>({title:a,value:e.value[t]}))),c(!0)},I=async a=>{let{error:r}=await N.from("net_worth_log").update({deleted_at:new Date().toISOString()}).eq("id",a);r||t(e.filter(e=>e.id!==a))};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Net Worth Tracker"}),r.jsx(i.z,{onClick:()=>{c(!0),h(null),P(),p((0,o.WU)(new Date,"yyyy-MM-dd"))},children:"Add Entry"})]}),(0,r.jsxs)(l.Zb,{className:"bg-white dark:bg-neutral-800",children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{className:"text-lg",children:"Current Net Worth"})}),(0,r.jsxs)(l.aY,{children:[(0,r.jsxs)("div",{className:"text-3xl font-bold",children:["$",(0===e.length?0:v([...e].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())[0])).toLocaleString()]}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["As of ",e.length>0?(0,o.WU)(x(e[e.length-1].date),"MMMM d, yyyy"):"No entries yet"]})]})]}),(0,r.jsxs)(l.Zb,{className:"bg-white dark:bg-neutral-800",children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{children:"Net Worth Over Time"})}),r.jsx(l.aY,{children:r.jsx("div",{className:"h-[400px]",children:r.jsx(q.h,{width:"100%",height:"100%",children:(0,r.jsxs)(C.w,{data:e.sort((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime()).map(e=>({date:(0,o.WU)(x(e.date),"MMM d, yyyy"),value:v(e)})),margin:{top:10,right:10,left:10,bottom:20},children:[r.jsx(M.q,{strokeDasharray:"3 3"}),r.jsx(T.K,{dataKey:"date",angle:-45,textAnchor:"end",height:70,tick:{fontSize:12}}),r.jsx(U.B,{tick:{fontSize:12},tickFormatter:e=>`$${e.toLocaleString()}`}),r.jsx(S.u,{formatter:e=>[`$${e.toLocaleString()}`,"Net Worth"],contentStyle:{fontSize:12}}),r.jsx(k.x,{type:"monotone",dataKey:"value",stroke:"#2563eb",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})})]}),(0,r.jsxs)(l.Zb,{className:"bg-white dark:bg-neutral-800",children:[r.jsx(l.Ol,{children:r.jsx(l.ll,{children:"History"})}),r.jsx(l.aY,{children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-3 px-4",children:"Date"}),r.jsx("th",{className:"text-left py-3 px-4",children:"Items"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Total"}),r.jsx("th",{className:"text-right py-3 px-4",children:"Actions"})]})}),r.jsx("tbody",{children:e.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>(0,r.jsxs)("tr",{className:"border-b",children:[r.jsx("td",{className:"py-4 px-4",children:(0,o.WU)(x(e.date),"MMMM d, yyyy")}),r.jsx("td",{className:"py-4 px-4",children:r.jsx("div",{className:"space-y-1",children:Object.entries(e.title).map(([t,a],s)=>(0,r.jsxs)("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-muted-foreground",children:a}),(0,r.jsxs)("span",{className:"ml-4",children:["$",e.value[t].toLocaleString()]})]},t))})}),(0,r.jsxs)("td",{className:"py-4 px-4 text-right font-medium",children:["$",v(e).toLocaleString()]}),r.jsx("td",{className:"py-4 px-4",children:(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>A(e),children:"Edit"}),r.jsx(i.z,{variant:"destructive",size:"sm",onClick:()=>I(e.id),children:"Delete"})]})})]},e.id))})]})})})]}),r.jsx(w.Vq,{open:a,onOpenChange:e=>{e||(c(!1),h(null),y([{title:"",value:0}]),p((0,o.WU)(new Date,"yyyy-MM-dd")),f(null))},children:(0,r.jsxs)(w.cZ,{className:"bg-white dark:bg-neutral-800",children:[r.jsx(w.fK,{children:r.jsx(w.$N,{children:u?"Edit Entry":"Add New Entry"})}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(b._,{htmlFor:"date",children:"Date"}),r.jsx(d.I,{id:"date",type:"date",value:m,onChange:e=>{p(e.target.value),f(null)},required:!0,className:"bg-white dark:bg-neutral-800"}),j&&r.jsx("p",{className:"text-sm text-red-500",children:j})]}),r.jsx("div",{className:"space-y-4",children:g.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-4 items-start",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[r.jsx(b._,{children:"Title"}),r.jsx(d.I,{value:e.title,onChange:e=>W(t,"title",e.target.value),placeholder:"e.g., Savings, Investments, Property",required:!0,className:"bg-white dark:bg-neutral-800"})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[r.jsx(b._,{children:"Value"}),r.jsx(d.I,{type:"number",step:"0.01",value:e.value,onChange:e=>W(t,"value",e.target.value),required:!0,className:"bg-white dark:bg-neutral-800"})]}),t>0&&r.jsx(i.z,{type:"button",variant:"ghost",size:"icon",className:"mt-8",onClick:()=>$(t),children:r.jsx(D.Z,{className:"h-4 w-4"})})]},t))}),(0,r.jsxs)(i.z,{type:"button",variant:"outline",className:"w-full",onClick:()=>{y([...g,{title:"",value:0}])},children:[r.jsx(_.Z,{className:"h-4 w-4 mr-2"}),"Add Item"]}),(0,r.jsxs)("div",{className:"pt-4 border-t",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("span",{className:"font-medium",children:"Total Net Worth:"}),(0,r.jsxs)("span",{className:"text-lg font-bold",children:["$",g.reduce((e,t)=>e+t.value,0).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[r.jsx(i.z,{type:"button",variant:"outline",onClick:()=>{c(!1),h(null),y([{title:"",value:0}]),p((0,o.WU)(new Date,"yyyy-MM-dd")),f(null)},children:"Cancel"}),r.jsx(i.z,{type:"submit",children:u?"Save Changes":"Add Entry"})]})]})]})]})})]})}},6948:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>l});let r=(0,a(86843).createProxy)(String.raw`/Users/ryanallred/Downloads/budget-app/app/(authenticated)/net-worth/page.tsx`),{__esModule:s,$$typeof:n}=r,l=r.default}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[225,719,765,516,177,501,141],()=>a(18003));module.exports=r})();